import{f as e,r as s,j as t,O as a,U as r,a3 as i,t as l,x as n,K as d}from"./react-vendor-B_wON18L.js";import{u as c}from"./admin-DxXcpQLf.js";import{S as x,B as o}from"./reports-CYvdUc55.js";import"./vendor-C4HD8sBH.js";import"./supabase-vendor-Ck00pQO2.js";import"./date-vendor-DWqTPjCA.js";import"./inspection-Bd6L4SDO.js";const m=()=>{var m;const{user:h,profile:g,loading:j,signOut:u}=c(),p=e(),[N,f]=s.useState(!1);if(j||!h||!g)return t.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Loading profile..."})]})});return t.jsxs("div",{className:"min-h-screen bg-white pb-24",children:[t.jsx(x,{isOpen:N,onClose:()=>f(!1)}),t.jsx("div",{className:"bg-white pt-12 pb-8 px-6 border-b border-gray-100",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:()=>f(!0),className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-md hover:shadow-lg transition-shadow border border-gray-100",children:t.jsx(a,{className:"w-5 h-5 text-gray-600"})}),t.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Profile"})]})}),t.jsxs("div",{className:"px-6 py-6",children:[t.jsxs("div",{className:"bg-white rounded-2xl shadow-[0_8px_30px_rgb(0,0,0,0.08)] border border-gray-50 p-6",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg",children:t.jsx("span",{className:"text-4xl font-bold text-white",children:(null==(m=g.full_name)?void 0:m.charAt(0).toUpperCase())||"U"})})}),t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:g.full_name||"User"}),t.jsxs("div",{className:"inline-flex items-center gap-1 px-3 py-1 bg-gray-100 rounded-full text-sm text-gray-600",children:[t.jsx(r,{className:"w-4 h-4"}),t.jsx("span",{children:"Member"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl",children:[t.jsx(i,{className:"w-5 h-5 text-gray-500"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Email"}),t.jsx("div",{className:"font-medium text-gray-900",children:g.email||"N/A"})]})]}),t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl",children:[t.jsx(l,{className:"w-5 h-5 text-gray-500"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Member Since"}),t.jsx("div",{className:"font-medium text-gray-900",children:(e=>{if(!e)return"N/A";try{const s=new Date(e);return isNaN(s.getTime())?"N/A":s.toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric"})}catch{return"N/A"}})(g.created_at)})]})]}),g.last_login_at&&t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl",children:[t.jsx(n,{className:"w-5 h-5 text-gray-500"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Last Login"}),t.jsx("div",{className:"font-medium text-gray-900",children:(e=>{if(!e)return"N/A";try{const s=new Date(e);return isNaN(s.getTime())?"N/A":s.toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"N/A"}})(g.last_login_at)})]})]})]})]}),t.jsx("div",{className:"mt-6",children:t.jsxs("button",{onClick:async()=>{window.confirm("Are you sure you want to logout?")&&(await u(),p("/login"))},className:"w-full flex items-center justify-center gap-2 p-4 bg-white shadow-[0_8px_30px_rgb(0,0,0,0.08)] border border-gray-50 rounded-2xl font-medium text-red-600 active:shadow-[0_4px_20px_rgb(0,0,0,0.06)] active:translate-y-1 transition-all",children:[t.jsx(d,{className:"w-5 h-5"}),t.jsx("span",{children:"Logout"})]})})]}),t.jsx(o,{})]})};export{m as ProfilePage};
